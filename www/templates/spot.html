<ion-view title="Spot Detail">
  <ion-nav-buttons side="right">
    <button ng-click="deleteSpot();" class="button button-icon icon ion-trash-a"></button>
    <button ng-click="goToSpot();" class="button button-icon icon ion-eye"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <form class="list">
      <div class="row responsive-md">
        <div class="col">
          <label class="item item-input">
            <span class="input-label"><b>Spot Name</b></span>
            <input type="text" placeholder="Name this Spot" ng-model="spot.properties.name" autofocus>
          </label>
          <label class="item item-input">
            <span class="input-label"><b>Date</b></span>
            <input type="date" ng-model="spot.properties.date" value={{spot.properties.date}}>
          </label>
          <label class="item item-input">
            <span class="input-label"><b>Time</b></span>
            <input type="time" ng-model="spot.properties.time" value={{spot.properties.time}}>
          </label>
      </div>

      <!-- Location -->
      <div class="col">
        <div class="item item-divider">
          Location & Geometry
        </div>
        Feature Type: {{spot.geometry.type}}
        <!--   <label class="item item-input">
          <input type="string" ng-model="friendlyGeom" value={{friendlyGeom}} ng-disabled="true">
        </label>    -->
        <label class="item item-input" ng-show="showLatLng">
          <span class="input-label">Latitude</span>
          <input type="number" ng-model="point.latitude" value={{point.latitude}}>
        </label>
        <label class="item item-input" ng-show="showLatLng">
          <span class="input-label">Longitude</span>
          <input type="number" ng-model="point.longitude" value={{point.longitude}}>
        </label>
        <div>
        Update Location From
        <div>
          <ion-buttons>
            <button ng-click="getLocation();" class="button icon-left ion-pinpoint">My Location</button>
          </ion-buttons>

          <ion-buttons>
            <button ng-click="openMap();" class="button icon-left icon ion-map">Map</button>
          </ion-buttons>
        </div>
        </div>
      </div>
    </div>

      <!-- Spot Type -->
      <div class="item item-divider">
        Attitude Type
      </div>
      <ion-radio ng-repeat="item in attitude_type"
                 ng-value="item.value"
                 ng-model="spot.properties.attitude_type"
                 ng-change="typeSelected()">
        {{ item.text }}
      </ion-radio>


      <!-- Planar Detail -->
      <div class="item item-divider" ng-show="showPlanarDetails">
        Planar Detail
      </div>

      <div class="row responsive-md" ng-show="showPlanarDetails">
        <div class="col">
          <label class="item item-input item-select">
            <div class="input-label">
              Plane Type
            </div>
            <select ng-model="spot.properties.planar.plane_type" ng-options="item.value as item.text for item in plane_type | orderBy:'text'"></select>
          </label>
          <label class="item item-input">
            <span class="input-label">Strike</span>
            <input type="number" placeholder="What is the strike?" ng-model="spot.properties.planar.strike">
          </label>
          <label class="item item-input">
            <span class="input-label">Dip</span>
            <input type="number" placeholder="What is the dip?" ng-model="spot.properties.planar.dip">
          </label>
        </div>
        <div class="col">
          <label class="item item-input item-select">
            <div class="input-label">
              Plane Quality
            </div>
            <select ng-model="spot.properties.planar.plane_quality" ng-options="item.value as item.text for item in plane_quality | orderBy:'text'"></select>
          </label>
          <label class="item item-input item-select">
            <div class="input-label">
              Plane Facing
            </div>
            <select ng-model="spot.properties.planar.plane_facing" ng-options="item.value as item.text for item in plane_facing | orderBy:'text'"></select>
          </label>
          <label class="item item-input">
            <span class="input-label">Unit Name</span>
            <input type="text" placeholder="What is the unit name?" ng-model="spot.properties.planar.unit_name">
          </label>
          <label class="item item-input">
            <span class="input-label">Unit Label</span>
            <input type="text" placeholder="What is the unit label?" ng-model="spot.properties.planar.unit_label">
          </label>
        </div>
      </div>

      <!-- Linear Detail -->
      <div class="item item-divider" ng-show="showLinearDetails">
        Linear Detail
      </div>

      <div class="row responsive-md" ng-show="showLinearDetails">
        <div class="col">
          <label class="item item-input item-select">
            <div class="input-label">
              Lineation Type
            </div>
            <select ng-model="spot.properties.linear.lineation_type" ng-options="item.value as item.text for item in lineation_type | orderBy:'text'"></select>
          </label>
        </div>
      </div>

      <!-- Planar & Linear Detail -->
      <div class="item item-divider" ng-show="showPlanarAndLinearDetails">
        Planar &amp; Linear Detail
      </div>

      <div class="row responsive-md" ng-show="showPlanarAndLinearDetails">
        <div class="col">
          <label class="item item-input item-select">
            <div class="input-label">
              Planar &amp; Lineation Type
            </div>
            <select ng-model="spot.properties.planar_and_linear.plane_and_lineation_type" ng-options="item.value as item.text for item in plane_and_lineation_type | orderBy:'text'"></select>
          </label>
        </div>
      </div>






      <div class="item item-divider">
        Notes
      </div>
      <label class="item item-input">
        <textarea placeholder="Notes about this Spot" rows="4" ng-model="spot.properties.notes"></textarea>
      </label>

      <div class="padding">
        <button class="button button-block button-positive" ng-click="submit()">Save</button>
      </div>
    </form>
  </ion-content>
</ion-view>
